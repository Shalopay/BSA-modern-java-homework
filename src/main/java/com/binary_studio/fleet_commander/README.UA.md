# Ласкаво просимо у FleetCommander.
У цьому завданні вашим завданням буде створити покроковий симулятор космічних битв. Ми вже створили частину інфраструктури та інтерфейси, щоб вам допомогти.

# Rules of engagement
Основа даної гри - космічні кораблі.
Кораблі мають кілька основних базових характеристик:
 - Швидкість `Velocity` вимірюється в` m / s`,
 - Розмір `Size` вимірюється в` m`,
 - Потужність реактора `Power Grid (PG)` вимірюється в `MW`
 - Заряд аккумулятора `Capacitor (Cap)` вимірюється в `GA / H`
 - Відновлення заряду аккумулятора за хід `Cap regen`
 - Стан корпусу і щита `Hull / Shield` вимірюється в` EHP`

Кожен корабель складається з двох підсистем: захисної та атакуючої.
Спочатку корабель знаходиться в доці, в цьому режимі до корабля потрібно підключати модулі. Корабель не може вийти з доку, допоки на нього не встановлена ​​захисна і атакуюча підсистеми.
Кожна система вимагає певну кількість `PG`. Споживання `PG` підсумовується, тобто для того, щоб встановити дві підсистеми з вимогою до `PG` 50 MW і 25 MW потрібен корабель з 25 + 50 => 75 MW. При нестачі потужності реактора необхідно викинути `NotEnoughPowergridException`.
Систему можна зняти з корабля, передавши в відповідні методи `null`
Атакуюча підсистема працює наступним чином: в її метод attack передається ціль, після чого проводиться розрахунок завданого пошкодження за такою формулою:
```
sizeReductionModifier = when targetSize> = optimalSize -> 1
else targetSize / optimalSize
speedReductionModifier = when targetSpeed ​​<= optimalSpeed ​​-> 1
                         else optimalSpeed ​​/ (2 * targetSpeed)
damage = baseDamage * min (sizeReductionModifier, speedReductionModifier)
```

Отримане пошкодження округляється до цілого числа з округленням у більшу сторону (тобто при пошкодженні більше 0, атака не може нанести менше 1 одиниці пошкодження). Для атаки потрібна певна кількість заряду аккумулятора. При спробі атакувати з недостатньою кількістю заряду аккумулятора необхідно повернути порожній Optional.

Захисна підсистема трохи складніше: вона має пасивні і активні ефекти. Для активації захисної системи необхідна певна кількість заряду. Активація відновлює `EHP` корпусу і щита. При спробі активувати захисну систему з недостатньою кількістю заряду необхідно повернути порожній Optional. Також захистна система пасивно знижує вхідне пошкодження на певний відсоток. При зменшенні пошкодження відбувається округлення до найближчого цілого в більшу сторону. Пошкодження не може бути знижено більш ніж на 95%.

Корабель сповіщується про початок і кінець ходу. В кінці ходу корабель відновлює заряд аккумулятора. Заряд аккумулятора не може бути заряджений більше початкового значення.

При отриманні пошкодження у корабля зменшується кількість щита і корпусу. Спочатку пошкодження отримує щит. Якщо здоров'я щита впало до 0, то залишок пошкодження отримує корпус. При регенерації щит і корпус відновлюються, використовуючи регенерацію захисної підсистеми. Здоров'я щитів і корпусу не може перевищувати початкове значення.

# Tips and tricks
1. Ваше завдання - імплементувати такі класи:
  `com.binary_studio.fleet_commander.core.ship.DockedVessel`
  `com.binary_studio.fleet_commander.core.ship.CombatReadyVessel`
  `com.binary_studio.fleet_commander.core.subsystems.DefenciveSubsystemImpl`
  `com.binary_studio.fleet_commander.core.subsystems.AttackSubsystemImpl`
2. Подивіться тести, це допоможе зрозуміти очікуванну поведінку
3. Не можна змінювати контракт існуючих класів (сигнатури методів), але змінювати їх реалізацію можна і потрібно. Так само ви можете створювати нові методи у вже існуючих класах і інтерфейсах або створювати нові класи та інтерфейси.
4. Почніть виконання завдання з імплементації підсистем, а потім перейдіть до імплеменатції корабля.
5. В даному завданні можете не хвилюватися про null-safety, ми не будемо передавати null в параметрах, окрім тих місць, де це описано умовами завдання.

Успіхів!
